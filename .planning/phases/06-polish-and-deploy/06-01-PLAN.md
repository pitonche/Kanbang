---
phase: 06-polish-and-deploy
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Board.tsx
  - src/components/SearchBar.tsx
  - src/components/Column.tsx
  - src/components/TaskCard.tsx
  - index.html
autonomous: true

must_haves:
  truths:
    - "Board toolbar stacks vertically on mobile and lays out horizontally on sm+ screens"
    - "SearchBar fills full width on mobile and is fixed 256px on sm+"
    - "Drag-and-drop works on touch devices without blocking page scroll"
    - "Each column header shows the number of tasks it contains"
    - "Browser tab displays Kanbang as the page title"
  artifacts:
    - path: "src/components/Board.tsx"
      provides: "Responsive toolbar layout and TouchSensor configuration"
      contains: "TouchSensor"
    - path: "src/components/SearchBar.tsx"
      provides: "Responsive search input width"
      contains: "w-full sm:w-64"
    - path: "src/components/Column.tsx"
      provides: "Task count in column header"
      contains: "tasks.length"
    - path: "src/components/TaskCard.tsx"
      provides: "Touch-action CSS for mobile drag"
      contains: "touchAction"
    - path: "index.html"
      provides: "Correct page title"
      contains: "<title>Kanbang</title>"
  key_links:
    - from: "src/components/Board.tsx"
      to: "@dnd-kit/core TouchSensor"
      via: "useSensor import"
      pattern: "useSensor\\(TouchSensor"
    - from: "src/components/TaskCard.tsx"
      to: "touch-action CSS"
      via: "style prop"
      pattern: "touchAction.*manipulation"
---

<objective>
Make the board responsive on mobile, add task counts to column headers, and fix the HTML page title.

Purpose: BOARD-02 (responsive layout), BOARD-03 (column counts), and index.html polish before deployment.
Output: Responsive toolbar, touch-enabled drag-and-drop, column counts, and correct page title.
</objective>

<execution_context>
@/Users/ciciban/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ciciban/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-polish-and-deploy/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Responsive toolbar, touch sensor, and SearchBar width</name>
  <files>src/components/Board.tsx, src/components/SearchBar.tsx, src/components/TaskCard.tsx</files>
  <action>
In Board.tsx:
1. Import TouchSensor from "@dnd-kit/core" (add to the existing import statement alongside PointerSensor).
2. Update the sensors useSensors call to include TouchSensor:
   ```
   const sensors = useSensors(
     useSensor(PointerSensor, { activationConstraint: { distance: 8 } }),
     useSensor(TouchSensor, { activationConstraint: { delay: 200, tolerance: 5 } }),
   );
   ```
3. Make the toolbar div responsive. Change:
   `className="flex items-center gap-4 px-6 pt-4 pb-2"`
   to:
   `className="flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4 px-4 sm:px-6 pt-4 pb-2"`

In SearchBar.tsx:
4. Change the input className from `w-64` to `w-full sm:w-64` so the search bar takes full width on mobile.

In TaskCard.tsx:
5. Add `touchAction: "manipulation"` to the style object on the draggable div so that touch scrolling is not blocked by the drag handler. The style object should become:
   ```
   const style = {
     transform: CSS.Transform.toString(transform),
     transition,
     opacity: isDragging ? 0.5 : 1,
     touchAction: "manipulation",
   };
   ```
  </action>
  <verify>Run `cd /Volumes/Backup/PRIVATE/GSD/Kanbang && npx tsc --noEmit` to confirm no type errors. Run `npm run build` to verify production build succeeds.</verify>
  <done>Toolbar stacks vertically on narrow viewports and rows on sm+. SearchBar is full-width on mobile. TouchSensor is configured alongside PointerSensor with delay:200/tolerance:5. TaskCard has touchAction:manipulation style.</done>
</task>

<task type="auto">
  <name>Task 2: Column task counts and page title</name>
  <files>src/components/Column.tsx, index.html</files>
  <action>
In Column.tsx:
1. Add a task count span inside the h2 header, after the label text. Change:
   ```
   <h2 className="px-3 py-2 text-sm font-semibold text-column-header uppercase tracking-wide">
     {label}
   </h2>
   ```
   to:
   ```
   <h2 className="px-3 py-2 text-sm font-semibold text-column-header uppercase tracking-wide">
     {label}
     <span className="ml-2 text-xs font-normal text-slate-400">{tasks.length}</span>
   </h2>
   ```

In index.html:
2. Change `<title>Vite + React + TS</title>` to `<title>Kanbang</title>`.
  </action>
  <verify>Run `cd /Volumes/Backup/PRIVATE/GSD/Kanbang && npm run build` to verify build succeeds. Grep index.html for "<title>Kanbang</title>" to confirm title updated. Grep Column.tsx for "tasks.length" to confirm count rendered.</verify>
  <done>Each column header displays the task count. Browser tab shows "Kanbang" as the page title.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no errors
2. `npm run build` succeeds
3. Board.tsx imports and uses TouchSensor
4. Board.tsx toolbar has responsive flex-col/sm:flex-row classes
5. SearchBar.tsx input has w-full sm:w-64
6. TaskCard.tsx style includes touchAction: "manipulation"
7. Column.tsx h2 includes tasks.length span
8. index.html title is "Kanbang"
</verification>

<success_criteria>
- Board toolbar is responsive (stacks on mobile, rows on desktop)
- SearchBar takes full width on mobile, fixed 256px on sm+
- Touch devices can scroll the board and long-press to drag (TouchSensor with delay)
- Each column header shows its task count
- Page title reads "Kanbang"
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish-and-deploy/06-01-SUMMARY.md`
</output>
